<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Service Partner Coverage Map</title>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <style>

    :root{
  --evp-blue: #373DEC;
  --evp-blue-dark: #2B30C8;
}

.brand-title{
  font-size: 28px;
  font-weight: 800;
  color: var(--evp-blue);
  line-height: 1.1;
}

.sidebar-header{
  margin-bottom: 14px;
  background: #ffffff;
  border: 6px solid var(--evp-blue);
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.18);
  overflow-y: auto;
}

.brand-logo{
  width: 140px;
  height: auto;
  display: block;
  margin-bottom: 10px;
}

.brand-subtitle{
  color: #6b7280;
  margin-top: 6px;
}

.input-wrap{
  position: relative;
}

.clear-btn{
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 28px;
  height: 28px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  background: #fff;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  color: #6b7280;
}

.clear-btn:hover{
  border-color: #9ca3af;
  color: #111827;
}

.section-title{
  font-weight: 700;
  margin-bottom: 6px;
}

.help details{
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 10px;
}

.help summary{
  cursor: pointer;
  font-weight: 700;
  color: #111827;
}

.help-body{
  margin-top: 10px;
  color: #374151;
}

.brand-footer{
  margin-top: 14px;
  padding: 10px 12px;
  border-radius: 12px;
  background: var(--evp-blue);
  color: #ffffff;
  font-size: 13px;
 }

.footer-logo{
  display: block;
  margin: 10px auto 0 auto;
  max-width: 140px;
  height: auto;
  opacity: 0.95;
}


    
    html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .layout { display: grid; grid-template-columns: 320px 1fr; height: 100%; }
    .sidebar { border-right: 1px solid #e5e7eb; padding: 14px; overflow: auto; }
    #map { height: 100%; }

    .row { margin-bottom: 12px; }
    label { display: block; font-size: 12px; color: #374151; margin-bottom: 6px; }
    select, input[type="number"], input[type="text"] { width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 8px; }
    .legend { margin-top: 14px; font-size: 13px; color: #111827; }
    .legend-item { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
    .swatch { width: 12px; height: 12px; border-radius: 999px; display: inline-block; border: 1px solid rgba(0,0,0,0.15); }
    .muted { font-size: 12px; color: #6b7280; line-height: 1.4; }
    .counts { font-size: 12px; color: #111827; margin-top: 10px; }
    .btn { width: 100%; padding: 9px 10px; border: 1px solid #d1d5db; border-radius: 8px; background: #fff; cursor: pointer; }
    .btn:hover { background: #f9fafb; }
  </style>
</head>
<body>
  
  <div class="layout">
    <aside class="sidebar">
      <div class="sidebar-header">
        <img class="brand-logo" src="evp-logo.png" alt="EVPassport" onerror="this.style.display='none'">
        <div class="brand-title">Coverage Map</div>
        <div class="brand-subtitle">Select a Service Partner to show locations and a radius coverage ring.</div>
      </div>
      
      <div class="row" style="margin-top: 14px;">
        <label for="partnerSelect">Service Partner</label>
        <select id="partnerSelect">
          <option value="All">All</option>
        </select>
      </div>

      <div class="row">
        <label for="stateSelect">State</label>
        <select id="stateSelect">
          <option value="All">All</option>
        </select>
      </div>

      <div class="row">
        <label for="roleSelect">Role</label>
        <select id="roleSelect">
          <option value="All">All</option>
          <option value="Technician">Technician</option>
          <option value="Electrician">Electrician</option>
        </select>
      </div>

      <div class="row">
        <label for="jobAddress">Job address</label>
        <div class="input-wrap">
          <input id="jobAddress" type="text" placeholder="e.g., Fort Worth, TX" />
          <button id="clearJobBtn" class="clear-btn" type="button" aria-label="Clear job address">×</button>
        </div>
      </div>
    
    <div class="row">
      <button class="btn" id="jobSearchBtn" type="button">Check coverage</button>
    </div>
    
    <div class="row">
      <div class="section-title">Coverage results</div>
      <div class="muted" id="jobStatus">Enter an address and click “Check coverage”.</div>
      <div id="jobResults" style="margin-top: 8px;"></div>
    </div>


      <div class="row">
        <label for="radiusMiles">Coverage Radius (miles)</label>
        <input id="radiusMiles" type="number" min="1" step="1" value="100" />
      </div>

      <button class="btn" id="fitBtn">Fit map to results</button>

      <div class="counts" id="counts"></div>

      <div class="legend">
        <div style="font-weight: 600;">Legend</div>
        <div class="legend-item"><span class="swatch" style="background: #2563eb;"></span> Technician</div>
        <div class="legend-item"><span class="swatch" style="background: #16a34a;"></span> Electrician</div>
      </div>

     <div class="brand-footer">
       <div>Data source: <b>data.csv</b> in this repository.</div>
       <img class="footer-logo" src="evp-logo.png" alt="EVPassport" onerror="this.style.display='none'">
     </div>
    
    </aside>

    <main id="map"></main>
  </div>

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>

  <!-- We'll create app.js in the next step -->
  <script src="./app.js"></script>
</body>
</html>
